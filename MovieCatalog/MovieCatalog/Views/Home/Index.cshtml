@{
    ViewBag.Title = "Home Page";
}
<script src="~/Scripts/myApp.js"></script>
<h2>Movies</h2>
<div data-ng-app="myApp" data-ng-controller="movieCtrl" class="panel panel-default">
    <div class="panel-body">
        <table class="table table-striped">
            <tr>
                <th></th>
                <th>Title</th>
                <th>Release Date</th>
                <th>Duration</th>
                <th>Language</th>
                <th>Imdb Score</th>
            </tr>
            <tr data-ng-repeat="mv in movies">
                <td>
                    <a href="#" data-ng-click="selectMovie(mv.mv_id)">Select</a> |
                    <a href="#" data-ng-click="deleteMovie(mv.mv_id)">Delete</a>
                </td>
                <td>{{mv.mv_title}}</td>
                <td>{{mv.mv_release_date}}</td>
                <td>{{mv.mv_duration}}</td>
                <td>{{mv.mv_language}}</td>
                <td>{{mv.mv_imdb_score}}</td>
            </tr>
        </table>
        <br />
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">Details</h3>
            </div>
            <div class="panel-body">
                <form>
                    <input type="hidden" name="movie.mv_id" data-ng-model="movie.mv_id" value="{{movie.mv_id}}" />
                    <div class="row">
                        <div class="form-group col-md-10">
                            <label for="title">Title</label>
                            <input type="text" name="movie.mv_title" data-ng-model="movie.mv_title" 
                                   value="{{movie.mv_title}}" class="form-control" placeholder="Title">
                        </div>
                        <div class="form-group col-md-2">
                            <label for="imdb_score">Imdb Score</label>
                            <input type="number" name="movie.mv_imdb_score" data-ng-model="movie.mv_imdb_score" 
                                   value="{{movie.mv_imdb_score}}" class="form-control" placeholder="Imdb Score">
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-2">
                            <label for="release_date">Release Date</label>
                            <input type="date" name="movie.mv_release_date" data-ng-model="movie.mv_release_date"
                                   value="{{movie.mv_release_date}}" class="form-control" placeholder="Release Date">
                        </div>
                        <div class="form-group col-md-2">
                            <label for="duration">Duration</label>
                            <input type="number" name="movie.mv_duration" data-ng-model="movie.mv_duration"
                                   value="{{movie.mv_duration}}" class="form-control" placeholder="Duration">
                        </div>
                        <div class="form-group col-md-3">
                            <label for="language">Language</label>
                            <input type="text" name="movie.mv_language" data-ng-model="movie.mv_language"
                                   value="{{movie.mv_language}}" class="form-control" placeholder="Language">
                        </div>
                        <div class="form-group col-md-5">
                            <label for="director">Director</label>
                            <input type="text" name="movie.mv_director" data-ng-model="movie.mv_director"
                                   value="{{movie.mv_director}}" class="form-control" placeholder="Director">
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-12">
                            <label for="story_line">Story Line</label>
                            <textarea name="movie.mv_story_line" data-ng-model="movie.mv_story_line"
                                      value="{{movie.mv_story_line}}" class="form-control" placeholder="Story Line" 
                                      rows="3"></textarea>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <button type="submit" class="btn btn-primary" data-ng-click="saveMovie(movie)">Save</button> 
                            <button type="submit" class="btn btn-default" data-ng-click="updateMovie(movie)">Update</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
